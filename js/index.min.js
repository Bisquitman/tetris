!function(){"use strict";var o=25,t={area:[["o","o","o","o","o","o","o","o","o","o"],["o","o","o","o","o","o","o","o","o","o"],["o","o","o","o","o","o","o","o","o","o"],["o","o","o","o","o","o","o","o","o","o"],["o","o","o","o","o","o","o","o","o","o"],["o","o","o","o","o","o","o","o","o","o"],["o","o","o","o","o","o","o","o","o","o"],["o","o","o","o","o","o","o","o","o","o"],["o","o","o","o","o","o","o","o","o","o"],["o","o","o","o","o","o","o","o","o","o"],["x","x","o","o","o","o","o","o","o","o"],["o","x","x","o","o","o","o","o","o","x"],["o","o","o","o","o","o","o","o","o","x"],["o","o","o","o","o","o","o","o","o","x"],["o","o","o","o","o","o","o","o","o","x"],["o","o","o","o","o","o","o","o","o","o"],["o","o","o","o","o","o","o","o","o","o"],["o","x","o","o","o","o","x","o","o","x"],["x","x","o","x","x","o","x","x","o","x"],["x","o","o","x","x","o","x","o","x","x"]],activeTetramino:{x:3,y:0,block:[["o","x","o"],["o","x","o"],["x","x","o"]],rotationIndex:0,rotation:[[["o","x","o"],["o","x","o"],["x","x","o"]],[["x","o","o"],["x","x","x"],["o","o","o"]],[["o","x","x"],["o","x","o"],["o","x","o"]],[["o","o","o"],["x","x","x"],["o","o","x"]]]},moveLeft:function(){this.checkOutPosition(this.activeTetramino.x-1,this.activeTetramino.y)&&(this.activeTetramino.x-=1)},moveRight:function(){this.checkOutPosition(this.activeTetramino.x+1,this.activeTetramino.y)&&(this.activeTetramino.x+=1)},moveDown:function(){this.checkOutPosition(this.activeTetramino.x,this.activeTetramino.y+1)?this.activeTetramino.y+=1:this.stopMove()},rotateTetramino:function(){this.activeTetramino.rotationIndex=this.activeTetramino.rotationIndex<3?this.activeTetramino.rotationIndex+1:0,this.activeTetramino.block=this.activeTetramino.rotation[this.activeTetramino.rotationIndex],this.checkOutPosition(this.activeTetramino.x,this.activeTetramino.y)||(this.activeTetramino.rotationIndex=this.activeTetramino.rotationIndex>0?this.activeTetramino.rotationIndex-1:3,this.activeTetramino.block=this.activeTetramino.rotation[this.activeTetramino.rotationIndex])},get viewArea(){for(var o=JSON.parse(JSON.stringify(this.area)),t=this.activeTetramino,e=t.x,i=t.y,a=t.block,r=0;r<a.length;r++)for(var n=a[r],c=0;c<n.length;c++)"o"!==n[c]&&(o[i+r][e+c]=a[r][c]);return o},checkOutPosition:function(o,t){for(var e=this.activeTetramino.block,i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++)if(!("o"===e[i][a]||this.area[t+i]&&this.area[t+i][o+a]&&"x"!==this.area[t+i][o+a]))return!1;return!0},stopMove:function(){for(var o=this.activeTetramino,t=o.x,e=o.y,i=o.block,a=0;a<i.length;a++)for(var r=i[a],n=0;n<r.length;n++)"o"!==r[n]&&(this.area[e+a][t+n]=i[a][n])}},e=document.querySelector(".container"),i=document.createElement("canvas");i.classList.add("game-area"),e.append(i),i.width=250,i.height=2*i.width;var a=i.getContext("2d"),r=function(t){a.clearRect(0,0,i.width,i.height);for(var e=0;e<t.length;e++)for(var r=t[e],n=0;n<r.length;n++){"o"!==r[n]&&(a.fillStyle="#3f484d",a.strokeStyle="white",a.fillRect(n*o,e*o,o,o),a.strokeRect(n*o,e*o,o,o))}};window.addEventListener("keydown",(function(o){switch(o.code){case"ArrowLeft":case"KeyA":t.moveLeft(),r(t.viewArea);break;case"ArrowRight":case"KeyD":t.moveRight(),r(t.viewArea);break;case"ArrowDown":case"KeyS":t.moveDown(),r(t.viewArea);break;case"ArrowUp":case"KeyW":t.rotateTetramino(),r(t.viewArea)}})),r(t.viewArea)}();